# Linear Circle Art

## 1. 基本ルール

### `NUM_VERTICES`

初期形状の頂点数（例: 4なら正方形）

### `RADIUS`

初期形状の半径（中心から頂点までの距離）

### `ADD_LINE_INTERVAL`

線を追加する時間間隔（秒単位）

初期形状は正多角形＋対角線で構成されます。

## 2. データ構造

### Vertex {x, y}
2D 座標

### Shape

vertices: 頂点の座標リスト

edges: 頂点インデックスのペア [a, b]（a番目とb番目を結ぶ線）

### currentVertices
現在までに描画対象となっている全頂点

### currentEdges
現在までに描画対象となっている全線

### pendingEdges
まだ描画されていない線のキュー（1本ずつ取り出して追加する）

## 3. 初期世代生成 (createInitialShape)

頂点を円周上に等間隔で配置（NUM_VERTICES個）

外周の辺を追加

対角線も追加（NUM_VERTICES が偶数前提）

→ これが 世代1 になる

例: NUM_VERTICES = 4

頂点: 正方形の4点

辺: 4本の外周＋2本の対角線

## 4. 新世代生成 (prepareNextGeneration)

新しい世代は、既存の全頂点を中心点を基準に回転コピーして作ります。

既存頂点を回転して新頂点を作成
offsetAngle 分回転させる

既存の辺を複製して新しい頂点の組に置き換え（形は同じだが位置がずれる）

旧頂点と新頂点の間をすべて結ぶ線を作成（完全二部グラフ的な全結合）

これらの線を pendingEdges にキューとして入れる（まだ描画しない）

## 5. 描画ループ (p.draw)

背景をクリア

currentEdges に登録された線をすべて描画

一定時間経過ごと（ADD_LINE_INTERVAL）に処理

pendingEdges に線があれば → 1本だけ取り出して currentEdges に追加

pendingEdges が空なら → 新世代を作成（回転角は世代ごとに細かくなる）

## 6. 世代進行

世代1 → 初期形状

世代2 → 世代1の全頂点を回転してコピー、旧頂点と新頂点を全結合

世代3 → 世代2の全頂点をさらに回転してコピー、同様に全結合

世代が進むごとに頂点数・線数が爆発的に増える

## 7. 見た目の変化

最初は単純な多角形

回転コピーされた新頂点が追加されることで、図形がだんだん複雑化

各世代の追加は1本ずつ描画されるので、成長過程がアニメーションで見える

## 8. 特徴

回転角度は世代が進むごとに小さくなる

offsetAngle = π / (NUM_VERTICES * 2^(generation - 2))

→ だんだん回転コピーの差が細かくなる

新世代が生まれるたびに旧頂点と新頂点がすべてつながるため、線密度が急上昇

表現的には 「回転複製＋完全結合」のフラクタル成長アニメーション
